<!DOCTYPE html>
<meta charset="utf-8"/>
<title>namespace mem</title>
<link rel="stylesheet" href="../../clang-doc-default-stylesheet.css"/>
<script src="../../index.js"></script>
<script src="../../index_json.js"></script>
<header id="project-title">Subspace</header>
<main>
  <div id="sidebar-left" path="sus/mem" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left"></div>
  <div id="main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
    <h1>namespace mem</h1>
    <h2 id="Namespaces">Namespaces</h2>
    <ul>
      <li>
        <a href="__private/index.html">__private</a>
      </li>
    </ul>
    <h2 id="Records">Records</h2>
    <ul>
      <li>
        <a href="never_value_access.html">never_value_access</a>
      </li>
      <li>
        <a href="NonNull.html">NonNull</a>
      </li>
    </ul>
    <h2 id="Functions">Functions</h2>
    <div>
      <h3 id="965629CB07E8F5F0A5C73022EEF21859531DDBF9">forward</h3>
      <p>T &amp;&amp; forward(std::remove_reference_t&lt;T&gt; &amp; t)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/forward.h#22">22</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/forward.h">forward.h</a>
      </p>
      <h3 id="1D1405C5AF74143917122E622360A030924921F7">forward</h3>
      <p>T &amp;&amp; forward(std::remove_reference_t&lt;T&gt; &amp;&amp; t)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/forward.h#27">27</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/forward.h">forward.h</a>
      </p>
      <h3 id="D20B49786E8559EA3DAB1E5CC9D5374974373D5C">move</h3>
      <p>auto &amp;&amp; move(T &amp;&amp; t)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/move.h#79">79</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/move.h">move.h</a>
      </p>
      <div>
        <div>
          <p> Cast `t` to an r-value reference so that it can be used to construct or be assigned to a (non-reference) object of type `T`.</p>
          <p> `move()` requires that `t` can be moved from, so it requires that `t` is non-const. This differs from `std::move()`.</p>
          <p> The `move()` call itself does nothing to `t`, as it is just a cast, similar to `std::move()`. It enables an lvalue (a named object) to be used as an rvalue. The function does not require `T` to be `Move`, in order to call rvalue-qualified methods on `T` even if it is not `Move`.</p>
          <p> TODO: Should this be `as_rvalue()`? Kinda technical. `as_...something...()`?</p>
        </div>
      </div>
      <h3 id="822C58E0B4EA8D06F7187E3C1775CF8E1B0B6359">size_of</h3>
      <p>size_t size_of()</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/size_of.h#31">31</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/size_of.h">size_of.h</a>
      </p>
      <div>
        <div>
          <p> Returns the size of the type T.</p>
          <p> This is the number of bytes that will be allocated for a type T, and includes any tail padding.</p>
          <p> Disallows calls with a reference type, since C++ does a surprising thing, where `sizeof(T&amp;) == sizeof(T)`.</p>
        </div>
      </div>
      <h3 id="1440645515FE4B21B043C6974ABA0F4EFFFB9865">data_size_of</h3>
      <p>size_t data_size_of()</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/size_of.h#110">110</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/size_of.h">size_of.h</a>
      </p>
      <div>
        <div>
          <p> Returns the data size of the type T.</p>
          <p> This is the number of bytes for the type excluding any tail padding, which is the number of bytes that can be memcpy&apos;d into the type without potentially overwriting other objects. This is due to the fact that other objects can be placed inside tail padding of an object in some scenarios.</p>
          <p> Returns 0 for types where the tail padding can not be determined. In particular this is the case for union types unless and until compilers provide additional support to determine the maximum data size of all union members.</p>
          <p> From :</p>
          <p> If type `T` has padding at its end, such as: ``` class T { i64 a; i32 b; }; ```</p>
          <p> Then there are two ways for another type to place a field inside the padding adjacent to `b` and inside area allocated for `sizeof(T)`:</p>
          <p> 1. A subclass of a non-POD type can insert its fields into the padding of the base class.</p>
          <p> So a subclass of `T` may have its first field inside the padding adjacent to `b`: ``` class S : T { i32 c; }; ``` In this example, `sizeof(S) == sizeof(T)` because `c` sits inside the trailing padding of `T`.</p>
          <p> 2. A class with a `[[no_unique_address]]` field may insert other fields below it into the padding of the `[[no_unique_address]]` field.</p>
          <p> So a class that contains `T` as a field can insert another field into `T`: ``` class S { [[no_unique_address]] T t; i32 c; }; ``` In this example, `sizeof(S) == sizeof(T)` because `c` sits inside the trailing padding of `T`.</p>
          <p> So the dsizeof(T) algorithm [to determine how much to memcpy safely] is something like:</p>
          <p> * A: find out how many bytes fit into the padding via inheritance   (`struct S : T { bytes }` for all `bytes` until   `sizeof(T) != sizeof(S)`). * B: find out how many bytes fit into the padding via no_unique_address   (`struct S { [[no_unique_address]] T x; bytes }` for all `bytes` until   `sizeof(T) != sizeof(S)`).</p>
          <p> ``` return sizeof(T) - max(A, B) ```</p>
          <p> And I think on every known platform, A == B. It might even be guaranteed by the standard, but I wouldn&apos;t know how to check.</p>
          <p> From :</p>
          <p> On MSVC 19, an empty class has size 1, but with the above formula: * A = 1, as the 1 byte gets reused by a subclass. * B = 0, as [[no_unique_address]] does not reuse the one byte of the empty   class.</p>
          <p> The result is that the data_size_of&lt;T&gt; should be 0, since the 1 byte _can_ be reused.</p>
          <p> In general, [[no_unique_address]] and [[msvc::no_unique_address]] doesn&apos;t appear do anything on MSVC 19, and subclasses also do not use padding bytes of the base class, with the exception of the base class being empty.</p>
        </div>
      </div>
      <h3 id="FF0D5A3C0564987736257DA16300BD6F609482FA">clone</h3>
      <p>std::decay_t&lt;T&gt; clone(const T &amp; source)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/clone.h#95">95</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/clone.h">clone.h</a>
      </p>
      <div>
        <div>
          <p> Clones the input either by copying or cloning. Returns a new object of type `T`.</p>
          <p> If `T` is a reference type, it will clone the underlying object.</p>
        </div>
      </div>
      <h3 id="6E8A5EBAAD91BD1969CCCE2272ECCF37809A1208">clone_or_forward</h3>
      <p>T clone_or_forward(const std::remove_reference_t&lt;T&gt; &amp; source)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/clone.h#110">110</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/clone.h">clone.h</a>
      </p>
      <div>
        <div>
          <p> Clones the input either by copying or cloning, producing an object of type T.</p>
          <p> If `T` is a reference type, it copies and returns the reference instead of the underlying object.</p>
        </div>
      </div>
      <h3 id="F82E9696244BD20E411E9D5AF9F06C8CE4D60540">clone_into</h3>
      <p>void clone_into(T &amp; dest, const T &amp; source)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/clone.h#130">130</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/clone.h">clone.h</a>
      </p>
      <div>
        <div>
          <p> Performs copy-assignment from `source`.</p>
          <p> Will perform a copy assignment if T is `Copy`. Otherwise will perform the equivalent of `dest = source.clone()`.</p>
          <p> The `Clone` type may provide an implementation of `clone_from(const T&amp; source)` to reuse its resources and avoid unnecessary allocations, which will be preferred over calling `source.clone()`.</p>
          <p> TODO: Provide a concept to verify that this method exists.</p>
        </div>
      </div>
      <h3 id="5D9FFFC3663F9485DE8F7E48B615AD5198794E63">mref</h3>
      <p>T &amp; mref(T &amp; t)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/mref.h#32">32</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/mref.h">mref.h</a>
      </p>
      <div>
        <div>
          <p> Annotate an lvalue usage, for static analysis.</p>
        </div>
      </div>
      <h3 id="C504A73C9CEB527E15877EAF7C776977B4926C46">addressof</h3>
      <p>T * addressof(T &amp; arg)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/addressof.h#23">23</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/addressof.h">addressof.h</a>
      </p>
      <h3 id="66E8596B74A50CBF1CB09177FEBA0E24625D1D6C">addressof</h3>
      <p>T * addressof(T &amp;&amp; arg)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/addressof.h#34">34</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/addressof.h">addressof.h</a>
      </p>
      <h3 id="4E50C0DA9B1963E64959B06E8E6404E4A41608A7">replace</h3>
      <p>T replace(T &amp; dest, const T &amp; src)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h#36">36</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h">replace.h</a>
      </p>
      <div>
        <div>
          <p> It would be nice to have an array overload of replace() but functions can&apos;t return arrays.</p>
        </div>
      </div>
      <h3 id="111A12E6967711B37B25017E0B0BF8663C53D353">replace</h3>
      <p>T replace(T &amp; dest, T &amp;&amp; src)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h#54">54</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h">replace.h</a>
      </p>
      <h3 id="3D13B2795F4D6D665F03F927B925388B46889EE0">replace_and_discard</h3>
      <p>void replace_and_discard(T &amp; dest, const T &amp; src)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h#72">72</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h">replace.h</a>
      </p>
      <h3 id="1894F72D58B257AC252F3F81597B1F95BABEE44F">replace_and_discard</h3>
      <p>void replace_and_discard(T &amp; dest, T &amp;&amp; src)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h#86">86</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h">replace.h</a>
      </p>
      <h3 id="D64C6F66C3472C891F899FA2C5F59448CF32E1D7">replace_ptr</h3>
      <p>T * replace_ptr(T *&amp; dest, T * src)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h#99">99</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h">replace.h</a>
      </p>
      <h3 id="BA8595AC7F493A9B745185D5AAEBF92B7DC9F6C1">replace_ptr</h3>
      <p>T * replace_ptr(T *&amp; dest, std::nullptr_t )</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h#106">106</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/replace.h">replace.h</a>
      </p>
      <h3 id="6F7E6A91903F7D268C39368D2D54A8F33D827682">take</h3>
      <p>T take(T &amp; t)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/take.h#38">38</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/take.h">take.h</a>
      </p>
      <div>
        <div>
          <p> Moves from `t` and constructs a new `T` in its place. Returns the old value of `t`.</p>
          <p> Requires that the type is `final` because calling take() on a base class could lead to Undefined Behaviour if the now-reconstructed object is accessed without std::launder thereafter, as replacing a subclass with the base class would change the underlying storage.</p>
        </div>
      </div>
      <h3 id="C9DA92812C3B45B7155EE8F6D26FA63EEA4C0E6B">take_and_destruct</h3>
      <p>
        T take_and_destruct(
        <a href="../../sus/marker/UnsafeFnMarker.html">UnsafeFnMarker</a>
         , T &amp; t)
      </p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/take.h#51">51</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/take.h">take.h</a>
      </p>
      <div>
        <div>
          <p> Moves from `t` and destroys the object at `t`. Returns the old value of `t`.</p>
          <p> SAFETY: This does *not* re-construct the object pointed to by `t`. It must not be used (or destructed again) afterward.</p>
        </div>
      </div>
      <h3 id="A53A87696D4E194AF29FFF28C13499BED239C182">operator==</h3>
      <p>_Bool operator==(const NonNull&lt;T&gt; &amp; l, const NonNull&lt;U&gt; &amp; r)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/nonnull.h#171">171</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/nonnull.h">nonnull.h</a>
      </p>
      <div>
        <div>
          <p> sus::ops::Eq&lt;NonNull&lt;T&gt;&gt; trait.</p>
        </div>
      </div>
      <h3 id="9DE49F95BFDB90AD8A4825F4A10E5FF885F8869D">operator&lt;=&gt;</h3>
      <p>auto operator&lt;=&gt;(const NonNull&lt;T&gt; &amp; l, const NonNull&lt;U&gt; &amp; r)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/nonnull.h#179">179</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/nonnull.h">nonnull.h</a>
      </p>
      <div>
        <div>
          <p> sus::ops::Ord&lt;NonNull&lt;T&gt;&gt; trait.</p>
        </div>
      </div>
      <h3 id="B3BE92BBBBE04B499F4EF2F218839131FFC6DDAB">swap</h3>
      <p>void swap(T &amp; lhs, T &amp; rhs)</p>
      <p>
        Defined at line 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/swap.h#31">31</a>
         of file 
        <a href="https://github.com/chromium/subspace/blob/main/subspace/mem/swap.h">swap.h</a>
      </p>
    </div>
  </div>
  <div id="sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
    <ol>
      <li>
        <span>
          <a href="#Namespaces">Namespaces</a>
        </span>
      </li>
      <li>
        <span>
          <a href="#Records">Records</a>
        </span>
      </li>
      <li>
        <span>
          <a href="#Functions">Functions</a>
        </span>
        <ul>
          <li>
            <span>
              <a href="#965629CB07E8F5F0A5C73022EEF21859531DDBF9">forward</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#1D1405C5AF74143917122E622360A030924921F7">forward</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#D20B49786E8559EA3DAB1E5CC9D5374974373D5C">move</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#822C58E0B4EA8D06F7187E3C1775CF8E1B0B6359">size_of</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#1440645515FE4B21B043C6974ABA0F4EFFFB9865">data_size_of</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#FF0D5A3C0564987736257DA16300BD6F609482FA">clone</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#6E8A5EBAAD91BD1969CCCE2272ECCF37809A1208">clone_or_forward</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#F82E9696244BD20E411E9D5AF9F06C8CE4D60540">clone_into</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#5D9FFFC3663F9485DE8F7E48B615AD5198794E63">mref</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#C504A73C9CEB527E15877EAF7C776977B4926C46">addressof</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#66E8596B74A50CBF1CB09177FEBA0E24625D1D6C">addressof</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#4E50C0DA9B1963E64959B06E8E6404E4A41608A7">replace</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#111A12E6967711B37B25017E0B0BF8663C53D353">replace</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#3D13B2795F4D6D665F03F927B925388B46889EE0">replace_and_discard</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#1894F72D58B257AC252F3F81597B1F95BABEE44F">replace_and_discard</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#D64C6F66C3472C891F899FA2C5F59448CF32E1D7">replace_ptr</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#BA8595AC7F493A9B745185D5AAEBF92B7DC9F6C1">replace_ptr</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#6F7E6A91903F7D268C39368D2D54A8F33D827682">take</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#C9DA92812C3B45B7155EE8F6D26FA63EEA4C0E6B">take_and_destruct</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#A53A87696D4E194AF29FFF28C13499BED239C182">operator==</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#9DE49F95BFDB90AD8A4825F4A10E5FF885F8869D">operator&lt;=&gt;</a>
            </span>
          </li>
          <li>
            <span>
              <a href="#B3BE92BBBBE04B499F4EF2F218839131FFC6DDAB">swap</a>
            </span>
          </li>
        </ul>
      </li>
    </ol>
  </div>
</main>
<footer>
  <span class="no-break">Ubuntu clang-doc version 16.0.0 (++20230114031307+f4225d325c19-1~exp1~20230114151410.683)</span>
</footer>
